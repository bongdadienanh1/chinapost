<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.ylife.system.mapper.DeliveryInformMapper" >
  <resultMap id="BaseResultMap" type="com.ylife.system.model.DeliveryInform" >
    <id column="id" property="id" jdbcType="BIGINT" />
    <result column="delivery_version" property="deliveryVersion" jdbcType="VARCHAR" />
    <result column="delivery_time" property="deliveryTime" jdbcType="TIMESTAMP" />
    <result column="delivery_inform" property="deliveryInform" jdbcType="VARCHAR" />
    <result column="manager_id" property="managerId" jdbcType="BIGINT" />
    <result column="is_read" property="isRead" jdbcType="BIT" />
  </resultMap>
  <sql id="Base_Column_List" >
    id, delivery_version, delivery_time, delivery_inform, manager_id, is_read
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Long" >
    select 
    <include refid="Base_Column_List" />
    from ysh_delivery_inform
    where id = #{id,jdbcType=BIGINT}
  </select>
  <delete id="deleteByPrimaryKey" parameterType="java.lang.Long" >
    delete from ysh_delivery_inform
    where id = #{id,jdbcType=BIGINT}
  </delete>
  <insert id="insert" parameterType="com.ylife.system.model.DeliveryInform" >
    insert into ysh_delivery_inform (id, delivery_version, delivery_time, 
      delivery_inform, manager_id, is_read
      )
    values (#{id,jdbcType=BIGINT}, #{deliveryVersion,jdbcType=VARCHAR}, #{deliveryTime,jdbcType=TIMESTAMP}, 
      #{deliveryInform,jdbcType=VARCHAR}, #{managerId,jdbcType=BIGINT}, #{isRead,jdbcType=BIT}
      )
  </insert>
  <insert id="insertSelective" parameterType="com.ylife.system.model.DeliveryInform" >
    insert into ysh_delivery_inform
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        id,
      </if>
      <if test="deliveryVersion != null" >
        delivery_version,
      </if>
      <if test="deliveryTime != null" >
        delivery_time,
      </if>
      <if test="deliveryInform != null" >
        delivery_inform,
      </if>
      <if test="managerId != null" >
        manager_id,
      </if>
      <if test="isRead != null" >
        is_read,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="id != null" >
        #{id,jdbcType=BIGINT},
      </if>
      <if test="deliveryVersion != null" >
        #{deliveryVersion,jdbcType=VARCHAR},
      </if>
      <if test="deliveryTime != null" >
        #{deliveryTime,jdbcType=TIMESTAMP},
      </if>
      <if test="deliveryInform != null" >
        #{deliveryInform,jdbcType=VARCHAR},
      </if>
      <if test="managerId != null" >
        #{managerId,jdbcType=BIGINT},
      </if>
      <if test="isRead != null" >
        #{isRead,jdbcType=BIT},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.ylife.system.model.DeliveryInform" >
    update ysh_delivery_inform
    <set >
      <if test="deliveryVersion != null" >
        delivery_version = #{deliveryVersion,jdbcType=VARCHAR},
      </if>
      <if test="deliveryTime != null" >
        delivery_time = #{deliveryTime,jdbcType=TIMESTAMP},
      </if>
      <if test="deliveryInform != null" >
        delivery_inform = #{deliveryInform,jdbcType=VARCHAR},
      </if>
      <if test="managerId != null" >
        manager_id = #{managerId,jdbcType=BIGINT},
      </if>
      <if test="isRead != null" >
        is_read = #{isRead,jdbcType=BIT},
      </if>
    </set>
    where id = #{id,jdbcType=BIGINT}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.ylife.system.model.DeliveryInform" >
    update ysh_delivery_inform
    set delivery_version = #{deliveryVersion,jdbcType=VARCHAR},
      delivery_time = #{deliveryTime,jdbcType=TIMESTAMP},
      delivery_inform = #{deliveryInform,jdbcType=VARCHAR},
      manager_id = #{managerId,jdbcType=BIGINT},
      is_read = #{isRead,jdbcType=BIT}
    where id = #{id,jdbcType=BIGINT}
  </update>

    <select id="selectByManagerId" resultMap="BaseResultMap" parameterType="java.lang.Long" >
        select
        <include refid="Base_Column_List" />
        from ysh_delivery_inform
        where manager_id = #{managerId,jdbcType=BIGINT} and is_read = 0
        order by delivery_time DESC
        limit 1
    </select>

    <update id="updateReadById" parameterType="java.lang.Long" >
        update ysh_delivery_inform
        set is_read = 1
        where id = #{id,jdbcType=BIGINT}
    </update>

    <insert id="batchInsert" parameterType="java.util.List">
        insert into
        ysh_delivery_inform
        (delivery_version, delivery_time,
        delivery_inform, manager_id, is_read)
        values
        <foreach collection="list" separator="," item="item">
            (#{item.deliveryVersion,jdbcType=VARCHAR}, #{item.deliveryTime,jdbcType=TIMESTAMP},
            #{item.deliveryInform,jdbcType=VARCHAR}, #{item.managerId,jdbcType=BIGINT}, #{item.isRead,jdbcType=BIT})
        </foreach>
    </insert>
</mapper>