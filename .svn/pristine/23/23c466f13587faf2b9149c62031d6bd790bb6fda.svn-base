package com.ylife.chinapost.mobile.service.impl;


import com.ylife.chinapost.mobile.service.InventorySearchProductService;
import com.ylife.data.page.Page;
import com.ylife.data.page.PageImpl;
import com.ylife.data.page.Pageable;
import com.ylife.inventory.mapper.InventoryMapper;
import com.ylife.inventory.mapper.pojo.InventoryGoodsResult;
import org.springframework.stereotype.Service;

import javax.annotation.Resource;
import java.util.List;

/**
 * Created by XuKai on 2016/4/21.
 * InventoryManageServiceImpl
 */
@Service
public class InventorySearchProductServiceImpl implements InventorySearchProductService {

    @Resource
    private InventoryMapper inventoryMapper;

    @Override
    public Page<InventoryGoodsResult> getInventorySearchProductBygoodsName(Long enterpriseId, String goodsName, Pageable pageable) {
        List<InventoryGoodsResult> inventoryGoodsResults = inventoryMapper.selectInventoryGoods(enterpriseId, goodsName, null, null, null, null, pageable);
        int totalElements = inventoryMapper.countByEnterpriseId(enterpriseId, goodsName, null, null, null, null);
        return new PageImpl<>(pageable, totalElements, inventoryGoodsResults);
    }
}




